function ExecuteTracking(_toq){for(var event=new caEvent,queue=_toq,i=0;i<queue.length;i++){for(var fnCall="",fnParams="",j=1;j<queue[i].length;j++)fnParams+="'"+queue[i][j]+"',";fnParams=fnParams.substring(0,fnParams.length-1),fnCall=""==fnParams?"event."+queue[i][0]+"();":"event."+queue[i][0]+"("+fnParams+")",eval(fnCall)}}!function(){var UTF8={encode:function(e){for(var t,r=-1,n=(e=e.split("")).length,i=String.fromCharCode;++r<n;e[r]=(t=e[r].charCodeAt(0))>=127?i(192|t>>>6)+i(128|63&t):e[r]);return e.join("")},decode:function(e){for(var t,r,n=-1,i=(e=e.split("")).length,a=String.fromCharCode,o="charCodeAt";++n<i;128&(t=e[n][o](0))&&(e[n]=192==(252&t)&&128==(192&(r=e[n+1][o](0)))?a(((3&t)<<6)+(63&r)):a(128),e[++n]=""));return e.join("")}},CryptoJS=CryptoJS||function(e,t){var r={},n=r.lib={},i=function(){},a=n.Base={extend:function(e){i.prototype=this;var t=new i;return e&&t.mixIn(e),t.hasOwnProperty("init")||(t.init=function(){t.$super.init.apply(this,arguments)}),t.init.prototype=t,t.$super=this,t},create:function(){var e=this.extend();return e.init.apply(e,arguments),e},init:function(){},mixIn:function(e){for(var t in e)e.hasOwnProperty(t)&&(this[t]=e[t]);e.hasOwnProperty("toString")&&(this.toString=e.toString)},clone:function(){return this.init.prototype.extend(this)}},o=n.WordArray=a.extend({init:function(e,t){e=this.words=e||[],this.sigBytes=null!=t?t:4*e.length},toString:function(e){return(e||c).stringify(this)},concat:function(e){var t=this.words,r=e.words,n=this.sigBytes;if(e=e.sigBytes,this.clamp(),n%4)for(var i=0;i<e;i++)t[n+i>>>2]|=(r[i>>>2]>>>24-i%4*8&255)<<24-(n+i)%4*8;else if(65535<r.length)for(i=0;i<e;i+=4)t[n+i>>>2]=r[i>>>2];else t.push.apply(t,r);return this.sigBytes+=e,this},clamp:function(){var t=this.words,r=this.sigBytes;t[r>>>2]&=4294967295<<32-r%4*8,t.length=e.ceil(r/4)},clone:function(){var e=a.clone.call(this);return e.words=this.words.slice(0),e},random:function(t){for(var r=[],n=0;n<t;n+=4)r.push(4294967296*e.random()|0);return new o.init(r,t)}}),s=r.enc={},c=s.Hex={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++){var i=t[n>>>2]>>>24-n%4*8&255;r.push((i>>>4).toString(16)),r.push((15&i).toString(16))}return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n+=2)r[n>>>3]|=parseInt(e.substr(n,2),16)<<24-n%8*4;return new o.init(r,t/2)}},u=s.Latin1={stringify:function(e){var t=e.words;e=e.sigBytes;for(var r=[],n=0;n<e;n++)r.push(String.fromCharCode(t[n>>>2]>>>24-n%4*8&255));return r.join("")},parse:function(e){for(var t=e.length,r=[],n=0;n<t;n++)r[n>>>2]|=(255&e.charCodeAt(n))<<24-n%4*8;return new o.init(r,t)}},l=s.Utf8={stringify:function(e){try{return decodeURIComponent(escape(u.stringify(e)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(e){return u.parse(unescape(encodeURIComponent(e)))}},d=n.BufferedBlockAlgorithm=a.extend({reset:function(){this._data=new o.init,this._nDataBytes=0},_append:function(e){"string"==typeof e&&(e=l.parse(e)),this._data.concat(e),this._nDataBytes+=e.sigBytes},_process:function(t){var r=this._data,n=r.words,i=r.sigBytes,a=this.blockSize,s=i/(4*a);if(t=(s=t?e.ceil(s):e.max((0|s)-this._minBufferSize,0))*a,i=e.min(4*t,i),t){for(var c=0;c<t;c+=a)this._doProcessBlock(n,c);c=n.splice(0,t),r.sigBytes-=i}return new o.init(c,i)},clone:function(){var e=a.clone.call(this);return e._data=this._data.clone(),e},_minBufferSize:0});n.Hasher=d.extend({cfg:a.extend(),init:function(e){this.cfg=this.cfg.extend(e),this.reset()},reset:function(){d.reset.call(this),this._doReset()},update:function(e){return this._append(e),this._process(),this},finalize:function(e){return e&&this._append(e),this._doFinalize()},blockSize:16,_createHelper:function(e){return function(t,r){return new e.init(r).finalize(t)}},_createHmacHelper:function(e){return function(t,r){return new h.HMAC.init(e,r).finalize(t)}}});var h=r.algo={};return r}(Math),h,s;!function(e){for(var t=CryptoJS,r=(i=t.lib).WordArray,n=i.Hasher,i=t.algo,a=[],o=[],s=function(e){return 4294967296*(e-(0|e))|0},c=2,u=0;64>u;){var l;e:{l=c;for(var d=e.sqrt(l),h=2;h<=d;h++)if(!(l%h)){l=!1;break e}l=!0}l&&(8>u&&(a[u]=s(e.pow(c,.5))),o[u]=s(e.pow(c,1/3)),u++),c++}var p=[];i=i.SHA256=n.extend({_doReset:function(){this._hash=new r.init(a.slice(0))},_doProcessBlock:function(e,t){for(var r=this._hash.words,n=r[0],i=r[1],a=r[2],s=r[3],c=r[4],u=r[5],l=r[6],d=r[7],h=0;64>h;h++){if(16>h)p[h]=0|e[t+h];else{var f=p[h-15],v=p[h-2];p[h]=((f<<25|f>>>7)^(f<<14|f>>>18)^f>>>3)+p[h-7]+((v<<15|v>>>17)^(v<<13|v>>>19)^v>>>10)+p[h-16]}f=d+((c<<26|c>>>6)^(c<<21|c>>>11)^(c<<7|c>>>25))+(c&u^~c&l)+o[h]+p[h],v=((n<<30|n>>>2)^(n<<19|n>>>13)^(n<<10|n>>>22))+(n&i^n&a^i&a),d=l,l=u,u=c,c=s+f|0,s=a,a=i,i=n,n=f+v|0}r[0]=r[0]+n|0,r[1]=r[1]+i|0,r[2]=r[2]+a|0,r[3]=r[3]+s|0,r[4]=r[4]+c|0,r[5]=r[5]+u|0,r[6]=r[6]+l|0,r[7]=r[7]+d|0},_doFinalize:function(){var t=this._data,r=t.words,n=8*this._nDataBytes,i=8*t.sigBytes;return r[i>>>5]|=128<<24-i%32,r[14+(i+64>>>9<<4)]=e.floor(n/4294967296),r[15+(i+64>>>9<<4)]=n,t.sigBytes=4*r.length,this._process(),this._hash},clone:function(){var e=n.clone.call(this);return e._hash=this._hash.clone(),e}});t.SHA256=n._createHelper(i),t.HmacSHA256=n._createHmacHelper(i)}(Math),h=CryptoJS,s=h.enc.Utf8,h.algo.HMAC=h.lib.Base.extend({init:function(e,t){e=this._hasher=new e.init,"string"==typeof t&&(t=s.parse(t));var r=e.blockSize,n=4*r;t.sigBytes>n&&(t=e.finalize(t)),t.clamp();for(var i=this._oKey=t.clone(),a=this._iKey=t.clone(),o=i.words,c=a.words,u=0;u<r;u++)o[u]^=1549556828,c[u]^=909522486;i.sigBytes=a.sigBytes=n,this.reset()},reset:function(){var e=this._hasher;e.reset(),e.update(this._iKey)},update:function(e){return this._hasher.update(e),this},finalize:function(e){var t=this._hasher;return e=t.finalize(e),t.reset(),t.finalize(this._oKey.clone().concat(e))}}),function(){var e=CryptoJS,t=e.lib.WordArray;e.enc.Base64={stringify:function(e){var t=e.words,r=e.sigBytes,n=this._map;e.clamp(),e=[];for(var i=0;i<r;i+=3)for(var a=(t[i>>>2]>>>24-i%4*8&255)<<16|(t[i+1>>>2]>>>24-(i+1)%4*8&255)<<8|t[i+2>>>2]>>>24-(i+2)%4*8&255,o=0;4>o&&i+.75*o<r;o++)e.push(n.charAt(a>>>6*(3-o)&63));if(t=n.charAt(64))for(;e.length%4;)e.push(t);return e.join("")},parse:function(e){var r=e.length,n=this._map;(i=n.charAt(64))&&(-1!=(i=e.indexOf(i))&&(r=i));for(var i=[],a=0,o=0;o<r;o++)if(o%4){var s=n.indexOf(e.charAt(o-1))<<o%4*2,c=n.indexOf(e.charAt(o))>>>6-o%4*2;i[a>>>2]|=(s|c)<<24-a%4*8,a++}return t.create(i,a)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}();var trackCex={m_ServiceNamespace:"eventtracking",m_SasKey:"31hO7sQrSZq+lBvs7BD76e7kli2PvD/QnjQGGAnTPDQ=",m_SasKeyName:"AllWebUsers",referrer:"",cex:"",RequestTime:"",init:function(e){var t=window.location.href.match(new RegExp("(\\?|&)cex(\\[\\])?=([^&]*)"));if(this.cpoData.UserAgent=navigator.userAgent,!this.isValidUserRequest(t))return!1;""!=t[3]&&(this.cex=t[3]),this.referrer=document.location.href,this.cpoData.cex=this.cex,this.cpoData.referrer=this.referrer,this.cpoData.sessionId=e,this.routePageType()},cpoData:{cex:this.cex,pIds:[],referrer:this.referrer,sessionId:this.sessionId,RequestTime:"",UserAgent:"",pageType:0},getToken:function(e){var t="http://"+this.m_ServiceNamespace+".servicebus.windows.net/"+e,r=encodeURIComponent(t),n=new Date(1970,1,1,0,0,0,0),i=2682e3+(((new Date).getTime()-n.getTime())/1e3|0),a=UTF8.encode(r+"\n"+i),o=CryptoJS.HmacSHA256(a,this.m_SasKey),s=CryptoJS.enc.Base64.stringify(o);return"SharedAccessSignature sr="+r+"&sig="+encodeURIComponent(s)+"&se="+i+"&skn="+this.m_SasKeyName},sendMessage:function(e,t,r){if(this.cpoData.pIds.length<1)return!1;if(this.cex.toString().length<2)return!1;var n=new Date,i=n.getFullYear()+"-"+("0"+(n.getMonth()+1)).slice(-2)+"-"+("0"+n.getDate()).slice(-2)+" "+("0"+n.getHours()).slice(-2)+":"+("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2);this.cpoData.RequestTime=i;var a=JSON.stringify(this.cpoData);if(0==this.cpoData.cex)return!1;this.cpoData.cex=0,this.cpoData.pIds=[];var o=this.getToken(e),s="https://"+this.m_ServiceNamespace+".servicebus.windows.net/"+e+"/messages/?timeout=60",c=new XMLHttpRequest;c.open("POST",s,!0),c.setRequestHeader("Content-Type",t),c.setRequestHeader("Authorization",o),c.setRequestHeader("body",a),c.send("")},routePageType:function(){jQuery("body.cms-index-index").length>0&&(this.prepareForHP(),this.cpoData.pageType=1,trackCex.sendMessage("productviewqueue","application/json",function(){})),jQuery("body.catalog-category-view").length>0&&(this.cpoData.pageType=2,setTimeout(this.prepareForCategory.bind(this),500)),jQuery("body.catalog-product-view").length>0&&(this.cpoData.pageType=3,setTimeout(this.prepareForProduct.bind(this),500)),jQuery("body.checkout-cart-index").length>0&&(this.prepareForCart(),this.cpoData.pageType=4,trackCex.sendMessage("productviewqueue","application/json",function(){}))},prepareForHPBanner:function(){},prepareForHP:function(){var e=this;jQuery(".main-container").find(".js-gtm-data").each(function(t,r){var n=jQuery(this).data("cpr");n&&e.cpoData.pIds.push(n)})},prepareForCategory:function(){var e=this;jQuery(".category-products").find(".js-gtm-data").each(function(t,r){var n=jQuery(this).data("cpr");n&&e.cpoData.pIds.push(n)}),trackCex.sendMessage("productviewqueue","application/json",function(){})},prepareForProduct:function(){var e=this;jQuery(".product-essential").find(".js-gtm-data").each(function(t,r){var n=jQuery(this).data("cpr");n&&e.cpoData.pIds.push(n)}),trackCex.sendMessage("productviewqueue","application/json",function(){})},prepareForCart:function(){var e=this;jQuery(".cart-item-wrapper .cart-item-table").each(function(t,r){var n=jQuery(this).find(".js-gtm-data").data("cpr");n&&e.cpoData.pIds.push(n)})},isValidUserRequest:function(e){return null!=e&&(!window.location.href.match(new RegExp("(\\?|&)SID(\\[\\])?=([^&]*)"))&&(!(this.cpoData.UserAgent.length<1)&&!this.isBot()))},isBot:function(){var e=this;return["Googlebot","YandexBot","YandexMetrika","Bingbot"].some(function(t){if(e.cpoData.UserAgent.toLocaleLowerCase().indexOf(t.toLocaleLowerCase())>-1)return!0})}},event=new caEvent;if("undefined"!=typeof _currentEventSiteAndServerIds){event.IsUserUnique();var data=event.GetURLParameters(),pollId=data.poll_id;event.StoreCookie("cex",data),event.StoreCookie("cix",data),event.StoreCookie("src",data),event.StoreCookie("referrer",data),event.StoreCookie("gkw",data),event.StoreCookie("fcex",data),event.StoreEmailCookie(data),event.StoreMediaCookie(data);var eventTypes=event.GetEventTypes(data),externalObjectId=event.GetExternalObjectId(data,eventTypes);if(1==event.IsNewSession(data)||eventTypes.length>0||null!=_currentEventSiteAndServerIds.eventTypeId){var param1="";null!=data.nbr&&(param1=data.nbr),"11"==_currentEventSiteAndServerIds.eventTypeId&&null!=_currentEventSiteAndServerIds.nbr&&(param1=_currentEventSiteAndServerIds.nbr),null!=_currentEventSiteAndServerIds.pollId&&(pollId=_currentEventSiteAndServerIds.pollId),event.StoreEvent(eventTypes,externalObjectId,pollId,param1,"")}}if("undefined"!=typeof _toq)for(var queue=_toq,i=0;i<queue.length;i++){for(var fnCall="",fnParams="",j=1;j<queue[i].length;j++)fnParams+="'"+queue[i][j]+"',";fnParams=fnParams.substring(0,fnParams.length-1),fnCall=""==fnParams?"event."+queue[i][0]+"();":"event."+queue[i][0]+"("+fnParams+")",eval(fnCall)}trackCex.init(event.LoadPersonalId())}();var _fwdTrackingParams=function(e){var t=new caEvent,r=0,n="null",i=t.GetSrc(),a=t.GetReferrer();if(null!=t.LoadCookie("cex")&&(r=t.LoadCookie("cex")),null!=t.LoadCexArrayCookie()&&(n=t.LoadCexArrayCookie().substring(0,999)),0!=r)-1!=e.indexOf("?")?e+="&cex="+r:e+="?cex="+r;else{var o=t.LoadHttpReferrerCookie(),s="";null!=o&&(s=-1!=o.indexOf("/")?o.split("/")[2]:o),void 0===s&&(s=""),-1!=e.indexOf("?")?e+="&http_referrer="+s:e+="?http_referrer="+s}return null!=i&&(-1!=e.indexOf("?")?e+="&src="+i:e+="?src="+i),null!=a&&(-1!=e.indexOf("?")?e+="&referrer="+a:e+="?referrer="+a),null!==n&&"null"!==n||(n=""),-1!=e.indexOf("?")?e+="&fcex="+n:e+="?fcex="+n,e};function caEvent(){var e="0",t="0",r="0";this._setSite=function(r,n){e=r,t=n},this._setPollId=function(e){r=e},this._addOrder=function(r,n,i,a,o,s,c,u){r;var l=this.GetSrc(),d=this.GetReferrer();null==l&&(l=""),null==d&&(d="");var h="action=_addOrder&siteId="+e+"&serverId="+t+"&orderId="+r+"&email="+n+"&gender="+i+"&referrer="+d+"&src="+l+"&affiliation="+a+"&shipping="+o+"&paymentType="+s+"&orderStatus="+c+"&installments="+u;!function(){var e=document.createElement("img");e.setAttribute("height","1"),e.setAttribute("width","1"),e.src=("https:"==document.location.protocol?"https://":"http://")+"tracking.caanalytics.com/pixelOrder.ashx?"+h+"&randomNumber="+Math.floor(1e10*Math.random()+1);var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},this._addOrderLine=function(e,r,n,i,a,o){var s="action=_addOrderLine&serverId="+t+"&orderId="+e+"&sku="+r+"&name="+encodeURIComponent(n)+"&price="+i+"&vat="+a+"&q="+o;!function(){var e=document.createElement("img");e.setAttribute("height","1"),e.setAttribute("width","1"),e.src=("https:"==document.location.protocol?"https://":"http://")+"tracking.caanalytics.com/pixelOrder.ashx?"+s+"&randomNumber="+Math.floor(1e10*Math.random()+1);var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},this._trackEvent=function(n,i){this.IsUserUnique();var o=this.GetURLParameters(),c=a();this.StoreCookie("cex",o),this.StoreCookie("cix",o),this.StoreCookie("src",o),this.StoreCookie("referrer",o),this.StoreCookie("gkw",o),this.StoreCookie("fcex",o),this.StoreEmailCookie(o),this.StoreMediaCookie(o);var u=this.GetEventTypes(o),l=this.GetExternalObjectId(o,u);if(1==this.IsNewSession(o)||u.length>0||""!=n){null!=o.nbr&&o.nbr,"11"==n&&""!=i&&i;var d=o.poll_id,h=this.GetSrc(),p=this.GetReferrer(),f=this.LoadCookie("gkw"),v=(null==h?"src=":"src="+h.toString())+(null==p?"&referrer=":"&referrer="+p.toString())+(null==f?"&gkw=":"&gkw="+f.toString()).substring(0,999);null!=o.fcex&&(v+="&fevt=1");var g=0,m=0,S="null";null!=this.LoadCookie("cex")&&(g=this.LoadCookie("cex")),null!=this.LoadCookie("cix")&&(m=this.LoadCookie("cix")),null!=s("cex")&&(S=s("cex").substring(0,999));var y=s("personalid"),x=s("email"),_="";null!=s("ts_event_http_referrer")&&(_=encodeURIComponent(s("ts_event_http_referrer")).substring(0,249));var w="";w=""!=n?n:u;var I="";I=""!=i?i:l,"0"!=r&&(d=r);var k="siteId="+e+"&serverId="+t+"&cex="+g.toString()+"&cix="+m.toString()+"&cexArray="+S+"&eventTypeId="+w.toString()+"&externalObjectId="+I.toString()+"&additionalURLParameters="+escape(v.toString())+"&email="+x+"&pollId="+(null==d?"0":d.toString())+"&personalId="+y+"&currentUrl="+encodeURIComponent(c);"11"==w&&""!=I&&(k+="&nbr="+I),k=k.replace("&cex="+g.toString()+"&cex="+g.toString(),"&cex="+g.toString()),function(){var e=document.createElement("img");e.setAttribute("height","1"),e.setAttribute("width","1"),e.src=("https:"==document.location.protocol?"https://":"http://")+"tracking.caanalytics.com/pixel.ashx?"+k+"&randomNumber="+Math.floor(1e10*Math.random()+1)+"&httpReferrer="+_;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()}},this.IsNewSession=function(e){return n(e)};var n=function(e){var t=i(),r=null;null!=t&&(r=-1!=t.indexOf("/")?t.split("/")[2]:t);var n=!1;-1!=document.location.host.indexOf(r)&&(n=!0);return(function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1}(["www.servis24.cz","secure.payu.hu","secure.payu.ro","payment.maksekeskus.ee","moja.tatrabanka.sk","ib.swedbank.lv","klik.nlb.si","gateway.paysec.cz","paysec.erasvet.cz","secure.payu.com","www.paypal.com","cz.mbank.eu","ib.slsp.sk","ib.swedbank.lt","ib.vub.sk","ib24.csob.cz","ibanka.seb.lv","ibanka.seb.lt","ibs.internetbanka.cz","klient2.rb.cz"],r)||function(e,t){for(var r=0;r<e.length;r++)if(-1!==t.indexOf(e[r]))return!0;return!1}(["topshop","top-shop","delimano","dormeo","liveactive","live-active","walkmaxx"],r))&&(n=!0),null==s("new_session")?(null!=e&&null!=e.http_referrer?o("ts_event_http_referrer",e.http_referrer):n||o("ts_event_http_referrer",t),o("new_session","new_session"),!0):(null!=e?null!=e.http_referrer&&o("ts_event_http_referrer",e.http_referrer):n||o("ts_event_http_referrer",t),!1)};this.IsUserUnique=function(){var e=s("personalid");if(null==e||0==e){var t=new Date;e=t.getDate().toString()+(t.getMonth()+1).toString()+t.getFullYear().toString()+Math.floor(1e10*Math.random()).toString().substring(0,10),o("personalid",e,10950)}},this.StoreEvent=function(e,t,r,n,i){var a=decodeURIComponent(GetSrc()),o=decodeURIComponent(GetReferrer()),c=decodeURIComponent(LoadCookie("gkw")),u=(null==a?"src=":"src="+a.toString())+(null==o?"&referrer=":"&referrer="+o.toString())+(null==c?"&gkw=":"&gkw="+c.toString()).substring(0,999),l=0,d=0,h="null";null!=LoadCookie("cex")&&(l=LoadCookie("cex")),null!=LoadCookie("cix")&&(d=LoadCookie("cix")),null!=s("cex")&&(h=s("cex").substring(0,999));var p=s("personalid");null==p&&(this.IsUserUnique(),p=s("personalid"));var f=s("email"),v="";null!=s("ts_event_http_referrer")&&(v=encodeURIComponent(s("ts_event_http_referrer")).substring(0,249));var g="1";null!=_currentEventSiteAndServerIds.serverId&&(g=_currentEventSiteAndServerIds.serverId);var m="";m=null!=_currentEventSiteAndServerIds.eventTypeId?_currentEventSiteAndServerIds.eventTypeId:e;var S="";S=null!=_currentEventSiteAndServerIds.eId?_currentEventSiteAndServerIds.eId:t;var y="siteId="+_currentEventSiteAndServerIds.siteId.toString()+"&serverId="+g+"&cex="+l.toString()+"&cix="+d.toString()+"&cexArray="+h+"&eventTypeId="+m.toString()+"&externalObjectId="+S.toString()+"&additionalURLParameters="+escape(u.toString())+"&email="+f+"&pollId="+(null==r?"0":r.toString())+"&personalId="+p;(m=""!=n)&&(y+="&nbr="+n),y=y.replace("&cex="+l.toString()+"&cex="+l.toString(),"&cex="+l.toString()),function(){var e=document.createElement("img");e.setAttribute("height","1"),e.setAttribute("width","1"),e.src=("https:"==document.location.protocol?"https://":"http://")+"tracking.caanalytics.com/pixel.ashx?"+y+"&randomNumber="+Math.floor(1e10*Math.random()+1)+"&httpReferrer="+v;var t=document.getElementsByTagName("script")[0];t.parentNode.insertBefore(e,t)}()},this.GetSrc=function(){return s("ts_event_src")},this.GetReferrer=function(){var e=s("ts_event_referrer");return null==e&&(e=s("referrer")),e},this.LoadCookie=function(e){return s("ts_event_"+e)},this.LoadPersonalId=function(){return s("personalid")},this.LoadCexArrayCookie=function(){return s("cex")},this.LoadHttpReferrerCookie=function(){return s("ts_event_http_referrer")},this.StoreCookie=function(e,t){var r=t[e];null!=r&&("cex"==e?null!=s(e)?s(e).lastIndexOf(r)<=s(e).lastIndexOf(",")&&o(e,s(e)+","+r,30):o(e,r,30):"fcex"==e?o("cex",r,30):"referrer"==e&&o(e,r,90),o("ts_event_"+e,r),"src"==e&&o(e,r))},this.StoreEmailCookie=function(e){var t,r=e.uem;null==r&&(r=e.email),null!=r&&1==(null!=(t=r)&&!(t.indexOf("@")<0||t.indexOf(".")<0||t.length<7))&&o("email",r,360)},this.StoreMediaCookie=function(e){var t=e.med;null!=t&&o("med",t,360)},this.GetExternalObjectId=function(e,t){var r=new Array;if(null!=e&&null!=t)for(var n=0;n<t.length;n++)1==t[n]&&0==c(r,parseInt(e.oid))?r.push(null==e.oid?0:parseInt(e.oid)):2!=t[n]&&9!=t[n]&&12!=t[n]&&16!=t[n]||0!=c(r,parseInt(e.eid))?7==t[n]&&0==c(r,parseInt(e.oid))?r.push(null==e.oid?0:parseInt(e.oid)):3==t[n]||11==t[n]?(null!=e.vid&&0==c(r,null==e.vid?0:parseInt(e.vid))&&r.push(null==e.vid?0:parseInt(e.vid)),0==c(r,null==e.eid?0:parseInt(e.eid))&&r.push(null==e.eid?0:parseInt(e.eid))):5!=t[n]&&8!=t[n]&&12!=t[n]&&13!=t[n]&&10!=t[n]&&4!=t[n]||0!=c(r,0)||r.push(0):r.push(null==e.eid?0:parseInt(e.eid));return r},this.GetEventTypes=function(e){var t=new Array;return null!=e.etid&&t.push(parseInt(e.etid)),null!=e.oid&&null!=e.ova&&t.push(1),1==n(null)&&(t.push(10),null==e.cex&&t.push(4)),(null!=e.cex&&null!=e.cex||null!=e.cix&&null!=e.cix)&&t.push(4),t},this.GetURLParameters=function(){var e=new Array,t="",r=window.location.href.indexOf("?");if(-1!=r?t=window.location.search:(r=window.location.href.indexOf("#"),t=window.location.href.substring(r)),t){var n=(t=t.substr(1)).indexOf("#");-1!=n&&(t=t.replace(t.substring(n),""));for(var i=t.split("&"),a=0;a<i.length;a++){var o=i[a].split("="),s=o[0].toString().toLowerCase(),c=o[1];e[s]=c}}return e};var i=function(){return document.referrer},a=function(){return document.location.href},o=function(e,t,r){if(r){var n=new Date;n.setTime(n.getTime()+24*r*60*60*1e3);var i="; expires="+n.toGMTString()}else i="";document.cookie=e+"="+t+i+"; path=/"},s=function(e){for(var t=e+"=",r=document.cookie.split(";"),n=0;n<r.length;n++){for(var i=r[n];" "==i.charAt(0);)i=i.substring(1,i.length);if(0==i.indexOf(t))return i.substring(t.length,i.length)}return null},c=function(e,t){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1}}